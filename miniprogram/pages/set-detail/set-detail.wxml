<view class="set-detail-container">
  <!-- 套牌标题 -->
  <view class="set-title">{{setInfo.name}}</view>
  
  <!-- 套牌奖励 -->
  <view class="set-reward">
    <image class="reward-badge" 
           src="{{rewardPath}}" 
           mode="aspectFit" 
           binderror="onImageError" 
           data-type="reward">
    </image>
  </view>
  
  <!-- 套牌收集进度 -->
  <view class="progress-container">
    <view class="progress-bar">
      <view class="progress-fill" style="width: {{progressPercentage}}%"></view>
      <view class="progress-text">{{progress.collected}}/{{progress.total}}</view>
    </view>
  </view>
  
  <!-- 卡牌列表 -->
  <scroll-view class="cards-container" scroll-y>
    <view class="cards-grid">
      <view class="card-item" wx:for="{{cards}}" wx:key="card_id">
        <view class="card-frame star-{{item.star}}">
          <!-- 调试信息 -->
          <view class="debug-info" style="font-size: 10px; color: #666;">
            ID: {{item.card_id}}
            收集: {{item.isCollected ? '是' : '否'}}
            错误: {{item.imageLoadError ? '是' : '否'}}
            路径: {{item.displayRes}}
          </view>
          
          <image class="card-image {{item.isCollected ? '' : 'uncollected'}}" 
                 src="{{item.displayRes}}" 
                 mode="aspectFit"
                 binderror="onImageError"
                 data-card-id="{{item.card_id}}"
                 style="width: 200rpx; height: 300rpx;">
          </image>
          
          <view class="card-info">
            <view class="card-name">{{item.displayName}}</view>
            <view class="card-stars">
              <text class="star" wx:for="{{item.star}}" wx:key="*this">★</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
  
  <!-- 关闭按钮 -->
  <view class="close-btn" bindtap="onClose">X</view>
</view> 